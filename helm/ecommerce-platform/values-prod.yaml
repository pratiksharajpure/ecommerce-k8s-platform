# Production environment overrides
global:
  environment: production
  storageClass: local-path  # Fixed for Killercoda cluster

namespace: production

application:
  replicaCount: 3
  image:
    tag: "v1.0.0"
  service:
    type: LoadBalancer
  resources:
    requests:
      memory: "512Mi"
      cpu: "500m"
    limits:
      memory: "1Gi"
      cpu: "1000m"
  env:
    APP_ENV: "production"
    LOG_LEVEL: "WARNING"

mysql:
  persistence:
    size: 5Gi
    storageClass: local-path
  resources:
    requests:
      memory: "1Gi"
      cpu: "1000m"
    limits:
      memory: "4Gi"
      cpu: "2000m"
  auth:
    rootPassword: "CHANGE_IN_PRODUCTION"
    password: "CHANGE_IN_PRODUCTION"
  nodeSelector:
    kubernetes.io/hostname: controlplane

redis:
  replicaCount: 2
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "400m"

ingress:
  enabled: true
  hosts:
    - host: ecommerce.example.com
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: ecommerce-prod-tls
      hosts:
        - ecommerce.example.com

autoscaling:
  enabled: true
  minReplicas: 3
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70
